<div class="grid">
    <p-dropdown class="md:w-20rem w-full" [options]="index" optionLabel="name" [filter]="true" [(ngModel)]="selection"
        filterBy="name" containerStyleClass="w-full" placeholder="Select product"></p-dropdown>
    <p-button label="Add product" icon="pi pi-plus" (click)="addProduct(selection.code)"></p-button>
</div>

<div>
    <div class="card">
        <p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>Reference</th>
                    <th>Composition</th>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Unitary price</th>
                    <th>Delete</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td> {{product.ref}}</td>
                    <td> {{product.comp_en}}</td>
                    <td> {{product.desc_en}}</td>
                    <td><p-inputNumber [(ngModel)]="product.qty" [showButtons]="true" (ngModelChange)="displayUnitaryPrice(product)" inputId="stacked" suffix=" units"
                            [step]="50"> </p-inputNumber></td>
                    <td> {{product.currentUnitaryPrice}}</td>
                    <td><p-button icon="pi pi-trash" (click)="deleteProduct(product)"></p-button></td>
                </tr>
            </ng-template>
        </p-table>
    </div>