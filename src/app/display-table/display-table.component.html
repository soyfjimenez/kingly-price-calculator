
<div class="grid p-5">
    <div class="col"></div>
    <div class="col-6">
        <img src="https://wearekingly.com/wp-content/uploads/2024/02/viber_image_2024-01-03_16-47-10-799.jpg" width="100%" style="border-radius: 25px;">
    </div>
    <div class="col"></div>
    
    <div class="col-12 block">
    <p-dropdown class="w-full" [options]="index" optionLabel="name" [filter]="true" [(ngModel)]="selection"
        filterBy="name" containerStyleClass="w-full" placeholder="Select product" ></p-dropdown>
    
    <p-button label="Add product" icon="pi pi-plus" (click)="addProduct(selection.code)"></p-button>
    </div>
</div>

<div>
    <div class="card">
        <p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
                <tr>
                    <th>Reference</th>
                    <th>Product</th>
                    <th>Composition</th>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Unitary price</th>
                    <th>Delete</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td> {{product.ref}}</td>
                    <td> {{product.title_en}}</td>
                    <td> {{product.comp_en}}</td>
                    <td> {{product.desc_en}}</td>
                    <td><p-inputNumber [(ngModel)]="product.qty" [showButtons]="true" (ngModelChange)="displayUnitaryPrice(product)" inputId="stacked" suffix=" units" [min]="getMinQty(product)"
                            [step]="50"> </p-inputNumber></td>
                    <td> {{product.currentUnitaryPrice}}</td>
                    <td><p-button icon="pi pi-trash" (click)="deleteProduct(product)"></p-button></td>
                </tr>
            </ng-template>
        </p-table>
        <p-button label="Calculate price" icon="pi pi-calculator" (click)="calculatePrice()"></p-button>
    </div>